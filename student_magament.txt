create table if not exists Khoa(
    makhoa TEXT PRIMARY KEY,
    tenkhoa TEXT NOT NULL UNIQUE
);

create table if not exists Lop(
    malop INTEGER PRIMARY KEY,
    tenlop TEXT UNIQUE,
    makhoa TEXT,
    FOREIGN KEY(makhoa) REFERENCES Khoa(makhoa)
);
create table if not exists SinhVien(
    masv INTEGER PRIMARY KEY,
    tensv TEXT NOT NULL,
    namsinh TEXT NOT NULL,
    gioitinh TEXT NOT NULL,
    email TEXT NOT NULL UNIQUE,
    makhoa TEXT NOT NULL,
    tenlop TEXT,
    FOREIGN KEY(tenlop) REFERENCES Lop(tenlop)
    FOREIGN KEY(makhoa) REFERENCES Khoa(makhoa)
)
create table MonHoc(
    mamonhoc INTEGER,
    tenmonhoc TEXT,
    makhoa TEXT,
    sotc INTEGER,
    FOREIGN KEY(makhoa) REFERENCES Khoa(makhoa)
)
create table Diem(
    mamonhoc INTEGER,
    masv INTEGER,
    diemgk REAL,
    diemthi REAL,
    FOREIGN KEY(mamonhoc) REFERENCES MonHoc(mamonhoc),
    FOREIGN KEY(masv) REFERENCES SinhVien(masv),
    PRIMARY KEY(mamonhoc,masv)
)
create table MoLop(
    mamolop INT primary key,
    mamon INTEGER,
    hocki TEXT,
    namhoc TEXT,
    giangvien TEXT,
    siso INT,
    trangthai TEXT,
    FOREIGN KEY(mamon) REFERENCES Monhoc(mamonhoc)
)
    